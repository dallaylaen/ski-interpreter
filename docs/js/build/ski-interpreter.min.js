(()=>{var t={10:(t,n,e)=>{const s=e(592);t.exports={...s},"undefined"!=typeof window&&(window.SKI=s.SKI)},592:t=>{class n{combine(...t){return t.length>0?new e(this,t):this}step(){return null}run(t=1e3){let n=this;for(let e=0;e<t;e++){const t=n.step();if(!t)return n;n=t}throw new Error("Failed to resolve expression in "+t+" steps")}toString(){throw new Error("toString() undefined for generic AST")}}class e extends n{constructor(t,n){super(),this.fun=t,this.args=n}combine(...t){return 0===t.length?this:new e(this.fun,[...this.args,...t])}step(){let t=0;const n=this.fun.step();n&&t++;const e=[];for(const n of this.args){const s=n.step();e.push(s??n),s&&t++}if(t)return(n??this.fun).combine(...e);if(this.fun instanceof r&&this.args.length>=this.fun.arity){const t=[...this.args],n=t.splice(0,this.fun.arity);return this.fun.impl(...n).combine(...t)}return null}toString(){return this.fun.toString()+this.args.map((t=>"("+t+")")).join("")}}class s extends n{constructor(t){super(),this.name=t}toString(){return this.name}}class r extends s{constructor(t,n,e){super(t),this.arity=n,this.impl=e}}class i extends n{combine(...t){return t.length?t.shift().combine(...t):this}toString(){return"<empty>"}}t.exports={SKI:class{constructor(){this.known={I:new r("I",1,(t=>t)),K:new r("K",2,((t,n)=>t)),S:new r("S",3,((t,n,e)=>t.combine(e).combine(n.combine(e))))}}parse(t){const n=Object.keys(this.known).join("|"),e=new RegExp("[()]|"+n+"|(?:[a-z_][a-z_0-9]*)","g"),r=[...t.matchAll(e)].map((t=>t[0])),o=new i,c=[o];for(const n of r)if("("===n)c.push(o);else if(")"===n){if(c.length<2)throw new Error("unbalanced input: "+t);const n=c.pop(),e=c.pop();c.push(e.combine(n))}else{const t=c.pop(),e=this.known[n]??new s(n);c.push(t.combine(e))}if(1!==c.length)throw new Error("unbalanced input: "+t);return c[0]}}}}},n={};!function e(s){var r=n[s];if(void 0!==r)return r.exports;var i=n[s]={exports:{}};return t[s](i,i.exports,e),i.exports}(10)})();